"use strict";(self.webpackChunkadmin_template=self.webpackChunkadmin_template||[]).push([[154],{1154:function(n,t,e){e.r(t),e.d(t,{default:function(){return f}});var i=e(9439),o=e(2791),c=e(7689),r=e(1087),l=e(889),s=e(8983),u=e(5015),a=e(184);function d(n){var t=n.button,e=n.list,d=n.hasExit,f=void 0===d||d,m=(0,o.useRef)(null),h=(0,o.useState)(!1),p=(0,i.Z)(h,2),k=p[0],v=p[1],x=(0,l.Z)(),w=(0,i.Z)(x,2)[1],_=(0,c.s0)(),j=function(n){m.current&&!m.current.contains(n.target)&&v(!1)};(0,o.useEffect)((function(){return window.addEventListener("click",j),function(){return window.removeEventListener("click",j)}}),[]);var b=(0,s.T)({url:"passport/logout",onSuccess:function(){localStorage.removeItem("token"),w({isAuth:!1}),_("/signin"),u.t6.success()}}),C=b.mutate,g=b.isLoading;return(0,a.jsxs)("div",{className:"dropdown ".concat(k?"dropdown-active":""),ref:m,children:[(0,a.jsx)("div",{className:"dropdown__btn",onClick:function(){return v(!k)},children:t}),(0,a.jsxs)("ul",{className:"dropdown__menu",children:[e.map((function(n,t){var e=n.type,i=void 0===e?"link":e,o=n.text,c=n.to,l=n.onClick,s=void 0===l?function(){}:l;return(0,a.jsxs)("div",{children:["link"===i?(0,a.jsx)("li",{children:(0,a.jsx)(r.OL,{to:c,className:"dropdown__item",onClick:function(){s(),v(!1)},children:o})}):null,"externalLink"===i?(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:c,className:"dropdown__item",onClick:function(){s(),v(!1)},children:o})}):null]},t)})),f?(0,a.jsx)("li",{children:(0,a.jsx)("button",{type:"button",className:"dropdown__item",onClick:function(){g||C({data:{fcm_token:localStorage.getItem("token")},route:"v1"})},children:"Chiqish"})}):null]})]})}var f=d;d.defaultProps={button:(0,a.jsx)("button",{type:"button",children:" "}),list:[]}}}]);
//# sourceMappingURL=154.1ce1ee4d.chunk.js.map